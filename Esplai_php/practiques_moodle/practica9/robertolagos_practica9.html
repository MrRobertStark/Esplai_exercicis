<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Bootstrap CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style type = "text/css">
        #amount{
            border:0;
            color:#f6931f;
            font-weight: bold;
        }
        #capa_input{
            width:40%;
        }
        .card{
            border:1px solid black;
            border-radius: 0px;
        }
        p{
            font-size:15pt;
        }
    </style>
    <title>Document</title>

</head>
<body class = "p-4">
    <h1 class = "mb-4">Preu mitjà del lloguer d'habitatges</h1>
    <div id = "capa_input">
        <input type="text" id="amount" readonly class = "text-success mb-3 h2"/>
        <div id = "slider-range"></div>
        <input type = "button" value = "Buscar" class = "my-3" id = "buscar"/>
    </div>
    <div class = "container-fluid mx-0 ml-n3">
        <div class = "row">
            
        </div>
    </div>
    

    <!--JQuery and Bootstrap Bundle (includes Popper)-->
    <!-- <script src="http://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script language= "javascript">
        $(document).ready(function(){
            //Slider inicialització i actualització
            $("#slider-range").slider({
                range:true,
                min:0,
                max:500,
                values: [75,300],
                slide: function(event,ui){
                    $( "#amount" ).val( "€" + ui.values[ 0 ] + " - €" + ui.values[ 1 ] );
                    carrega_dades(ui.values[0],ui.values[1]);
                }
            });
            update_ui();

            function carrega_dades(minim_preu,maxim_preu){
                
            }
            function update_ui(){
                $("#amount").val($( "#slider-range" ).slider( "values", 0 ) + "€ - " + $( "#slider-range" ).slider( "values", 1 ) +"€ ");
            }
            function generacio_etiqueta(municipi){
                var etiqueta = 
                "<div class = 'col col-6 col-md-4 col-lg-3'>"
                    +"<div class = 'card p-4'>"
                        +"<div class = 'card-title h4 pb-3'>"+municipi.nom_territori+"</div>"
                        +"<p class = 'card-text h6 pb-3'>"+renda+"</p>"
                    +"</div>"
                +"</div>";

                return etiqueta;
            }
        });
    </script>
</body>
</html>