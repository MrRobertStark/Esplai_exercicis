<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Bootstrap CSS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style type = "text/css">
        label{
            width:50px;
        }
        select{
            width:200px;
        }
        .card .card-img-top{
            height:250px;
        }
        #header img{
            display:block;
            height:550px;
            filter:brightness(50%);
            margin-bottom:80px;
        }
        h1{
            position:absolute;
            width:70%;
            top:25%;
            left:50%;
            margin-left:-35%;
            font-size:60pt;
            color:white;
        }
        .btn{
            font-size:16pt;
        }
    </style>
    <title>Document</title>

</head>
<body class = "bg-light">
    <div class = "container-fluid px-0" id = "header">
        <img src = "https://speakzeasy.files.wordpress.com/2015/03/delicious-ice-cream-pictures-hd.jpg" class = "card-img-top container-fluid px-0"/>
        <h1 class = "text-center">Títol principal de la pàgina web</h1>
    </div>
    <div class = "container">
        <!--Formulari-->
        <form method = "POST" action = "resultat_gelat.php">
            <div class = "row">
                <!--Primer filtre: Tipus-->
                <div class = "col col-12 col-lg-4">
                    <div class = "card">
                        <img src = "" alt = "img_tipus" class = "card-img-top"/>
                        <div class = "card-body p-5">
                            <h3 class = "card-title">Demana el tipus!</h3>
                            <label for = "camp_tipus">Tipus:</label>
                            <select id = "camp_tipus" name = "tipus">
                                <option value="0">Bol</option>
                                <option value="1">Tarrina</option>
                                <option value="2">Cucurutxu</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!--Segon FIltre: Gust-->
                <div class = "col col-12 col-lg-4">
                    <div class = "card">
                        <img src = "" alt = "img_gust" class = "card-img-top"/>
                        <div class = "card-body p-5">
                            <h3 class = "card-title">Demana el gust!</h3>
                            <label for = "camp_gust">Gust:</label>
                            <select id = "camp_gust" name = "gust">
                                <option value="0">Maduixa</option>
                                <option value="1">Vainilla</option>
                                <option value="2">Xocolata</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class = "col col-12 col-lg-4">
                    <div class = "card">
                        <img src = "" alt = "img_mida" class = "card-img-top"/>
                        <div class = "card-body p-5">
                            <h3 class = "card-title">Demana la mida!</h3>
                            <label for = "camp_mida">Mida:</label>
                            <select id = "camp_mida" name = "mida">
                                <option value="0">Gran</option>
                                <option value="1">Mijtà</option>
                                <option value="2">Petit</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class = "col col-12">
                    <input type = "submit" value = "Enviar Sol·licitud" class = "d-block w-50 mx-auto btn btn-primary my-5"/>
                </div>
            </div>
        </form>
    </div>

    <!--JQuery and Bootstrap Bundle (includes Popper)-->
    <script src="http://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script language= "javascript">
        $(document).ready(function(){
            var tipus = [
                "http://omnihousewareinc.com/wp-content/uploads/2014/02/1021404-Soup-Rice-Bowl.jpg",
                "https://www.industriasdalmau.com/wp-content/uploads/2018/03/productos-food-pack-tarrinas-redondas-03.jpg",
                "https://invitadoinvierno.com/wp-content/uploads/2020/07/stop-motion-cucurucho.gif"
            ];
            var gusts = [
                "https://actualfruveg.com/wp-content/uploads/2018/03/fresa-strawberries-2-1201x640.jpg",
                "https://sevilla.abc.es/gurme/wp-content/uploads/sites/24/2016/07/helado-de-vainilla.jpg",
                "https://images-lebtivity-com.s3.amazonaws.com/content/versions/95561/1500-1000-0-0/chocolate_factory_tour.jpg"
            ];
            var mides = [
                "https://thumbs.dreamstime.com/b/tres-bolas-del-helado-de-stracciatella-italiano-99634152.jpg",
                "http://todofondos.com/bin/fondos/01/20/59d.jpg",
                "https://thumbs.dreamstime.com/z/bola-del-helado-de-chocolate-100179462.jpg"
            ];
            var options = [tipus,gusts,mides];

            update_cards();
            $("select").change(function(){
                update_cards();
            });

            function update_cards(){
            //La següent funció recull les dades dels selects i mostra una visió aproximada per cada targeta del resultat
                var selects = $("select");
                var select = "";
                var valor_actual = 0;
                var img_correcte = "";
                var i = 0;
                for(i = 0; i < selects.length; i++){
                    select = selects[i];
                    valor_actual = $(select).val();
                    img_correcte = options[i][valor_actual];
                    $(select).parent().siblings("img").attr("src",img_correcte);
                }
            }
        });
    </script>
</body>
</html>